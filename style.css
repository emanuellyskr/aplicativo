import React, { useEffect, useState } from "react";
import { View, Text, FlatList, TouchableOpacity, Image, StyleSheet } from "react-native";

export default function App() {
  const [produtos, setProdutos] = useState([]);
  const [carrinho, setCarrinho] = useState([]);

  useEffect(() => {
    fetch("http://localhost:3001/produtos")
      .then(res => res.json())
      .then(data => setProdutos(data));
  }, []);

  const adicionarAoCarrinho = (item) => {
    setCarrinho([...carrinho, item]);
  };

  const finalizarPedido = async () => {
    const total = carrinho.reduce((sum, p) => sum + p.preco, 0);
    await fetch("http://localhost:3001/pedido", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        aluno: "Jo√£o Silva",
        itens: carrinho,
        total
      })
    });
    alert("Pedido enviado com sucesso!");
    setCarrinho([]);
  };

  return (
    <View style={styles.container}>
      <Text style={styles.title}>üçî Card√°pio do Dia</Text>
      <FlatList
        data={produtos}
        keyExtractor={(item) => item._id}
        renderItem={({ item }) => (
          <View style={styles.card}>
            <Image source={{ uri: item.imagem }} style={styles.img} />
            <Text>{item.nome}</Text>
            <Text>R$ {item.preco.toFixed(2)}</Text>
            <TouchableOpacity onPress={() => adicionarAoCarrinho(item)}>
              <Text style={styles.btn}>Adicionar</Text>
            </TouchableOpacity>
          </View>
        )}
      />
      <TouchableOpacity onPress={finalizarPedido} style={styles.finalizar}>
        <Text style={styles.finalizarText}>Finalizar Pedido ({carrinho.length})</Text>
      </TouchableOpacity>
    </View>
  );
}

const styles = StyleSheet.create({
  container: { flex: 1, padding: 20, backgroundColor: "#FFF" },
  title: { fontSize: 22, fontWeight: "bold", marginBottom: 10 },
  card: { backgroundColor: "#f2f2f2", padding: 10, marginBottom: 10, borderRadius: 8 },
  img: { width: "100%", height: 120, borderRadius: 8 },
  btn: { color: "#2E7D32", marginTop: 5, fontWeight: "bold" },
  finalizar: { backgroundColor: "#2E7D32", padding: 15, borderRadius: 10, alignItems: "center" },
  finalizarText: { color: "#FFF", fontSize: 16, fontWeight: "600" }
});
# üçî SnackSchool - App de Venda Interna de Lanches Escolares

## üß≠ Objetivo
Automatizar o processo de venda de lanches dentro da escola, evitando filas e otimizando o tempo dos alunos e da cantina.

---

## ‚öôÔ∏è Tecnologias
- **Frontend:** React Native (Expo)
- **Backend:** Node.js + Express
- **Banco de dados:** MongoDB
- **API REST:** HTTP JSON

---

## üöÄ Como rodar o projeto

### 1Ô∏è‚É£ Backend
```bash
cd backend
npm install
node server.js

